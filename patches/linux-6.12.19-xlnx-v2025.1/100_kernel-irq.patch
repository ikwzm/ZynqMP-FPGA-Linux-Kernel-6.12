diff --git a/kernel/irq/handle.c b/kernel/irq/handle.c
index 9489f93b3..622215a8b 100644
--- a/kernel/irq/handle.c
+++ b/kernel/irq/handle.c
@@ -215,7 +215,11 @@ irqreturn_t handle_irq_event(struct irq_desc *desc)
 }
 
 #ifdef CONFIG_GENERIC_IRQ_MULTI_HANDLER
+#ifndef CONFIG_IRQCHIP_XILINX_INTC_MODULE_SUPPORT_EXPERIMENTAL
 int __init set_handle_irq(void (*handle_irq)(struct pt_regs *))
+#else
+int set_handle_irq(void (*handle_irq)(struct pt_regs *))
+#endif
 {
 	if (handle_arch_irq)
 		return -EBUSY;
